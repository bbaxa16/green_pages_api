  [1m[35m (436.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (26.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3249609317874508470)[0m
  [1m[35m (39.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20170908153320)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (331.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (52.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170908153320"]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (95.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2017-09-08 15:39:00.948241"], ["updated_at", "2017-09-08 15:39:00.948241"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3249609317874508470)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Thomas"], ["password_digest", "$2a$10$KUhphKSEewkY7p5Al1KKludeNg9bav9.EZFSMrm6YL/rW1r6TsWkC"], ["created_at", "2017-09-08 15:40:02.782026"], ["updated_at", "2017-09-08 15:40:02.782026"]]
  [1m[35m (16.3ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2017-09-08 11:43:06 -0400
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/cho/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/cho/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb (4.5ms)
Completed 200 OK in 106ms (Views: 85.6ms | ActiveRecord: 0.0ms)


Started GET "/favicon.ico" for 127.0.0.1 at 2017-09-08 11:43:08 -0400
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users" for 127.0.0.1 at 2017-09-08 11:43:14 -0400
Processing by UsersController#index as HTML
  [1m[36mUser Load (28.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 208ms (Views: 143.2ms | ActiveRecord: 40.7ms)


Started GET "/users/login" for 127.0.0.1 at 2017-09-08 11:43:16 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"login"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
Completed 404 Not Found in 67ms (ActiveRecord: 0.6ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=login):
  
app/controllers/users_controller.rb:54:in `set_user'
Started GET "/users/login" for 127.0.0.1 at 2017-09-08 11:44:34 -0400
Processing by UsersController#show as */*
  Parameters: {"id"=>"login"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
Completed 404 Not Found in 4ms (ActiveRecord: 1.6ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=login):
  
app/controllers/users_controller.rb:54:in `set_user'
Started POST "/users/login" for 127.0.0.1 at 2017-09-08 11:45:11 -0400
  
ActionController::RoutingError (No route matches [POST] "/users/login"):
  
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/users/login" for 127.0.0.1 at 2017-09-08 11:45:41 -0400
  
ActionController::RoutingError (No route matches [POST] "/users/login"):
  
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/users/login" for 127.0.0.1 at 2017-09-08 11:47:17 -0400
  [1m[35m (24.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as */*
  Parameters: {"user"=>{"username"=>"Thomas", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (15.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Thomas"], ["LIMIT", 1]]
Completed 200 OK in 157ms (Views: 0.7ms | ActiveRecord: 20.3ms)


Started POST "/users/login" for 127.0.0.1 at 2017-09-08 12:00:24 -0400
  [1m[35m (28.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as */*
  Parameters: {"user"=>{"username"=>"Thomas", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Thomas"], ["LIMIT", 1]]
Completed 200 OK in 122ms (Views: 0.7ms | ActiveRecord: 5.9ms)


Started GET "/users/3" for 127.0.0.1 at 2017-09-08 12:14:22 -0400
Processing by UsersController#show as */*
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 404 Not Found in 28ms (ActiveRecord: 0.6ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=3):
  
app/controllers/users_controller.rb:75:in `set_user'
Started GET "/users/" for 127.0.0.1 at 2017-09-08 12:14:35 -0400
Processing by UsersController#index as */*
Filter chain halted as :authenticate_token rendered or redirected
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.0ms)


Started GET "/users/" for 127.0.0.1 at 2017-09-08 12:15:04 -0400
Processing by UsersController#index as */*
Filter chain halted as :authenticate_token rendered or redirected
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)


Started GET "/users/" for 127.0.0.1 at 2017-09-08 12:15:05 -0400
Processing by UsersController#index as */*
Filter chain halted as :authenticate_token rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/users/3" for 127.0.0.1 at 2017-09-08 12:15:19 -0400
Processing by UsersController#show as */*
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (ActiveRecord: 1.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=3):
  
app/controllers/users_controller.rb:75:in `set_user'
Started GET "/users/" for 127.0.0.1 at 2017-09-08 12:15:24 -0400
Processing by UsersController#index as */*
Filter chain halted as :authenticate_token rendered or redirected
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-09-08 12:33:38 -0400
  [1m[35m (28.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/cho/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/cho/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb (4.5ms)
Completed 200 OK in 73ms (Views: 52.0ms | ActiveRecord: 0.0ms)


Started GET "/users" for 127.0.0.1 at 2017-09-08 12:33:40 -0400
Processing by UsersController#index as HTML
Filter chain halted as :authenticate_token rendered or redirected
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)


Started GET "/users/1" for 127.0.0.1 at 2017-09-08 12:33:51 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as :authenticate_token rendered or redirected
Completed 200 OK in 158ms (Views: 0.2ms | ActiveRecord: 26.9ms)


Started POST "/users/" for 127.0.0.1 at 2017-09-08 12:34:14 -0400
Processing by UsersController#create as */*
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/users_controller.rb:81:in `user_params'
app/controllers/users_controller.rb:31:in `create'
Started POST "/users/login" for 127.0.0.1 at 2017-09-08 12:35:09 -0400
Processing by UsersController#login as */*
  Parameters: {"user"=>{"username"=>"Thomas", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Thomas"], ["LIMIT", 1]]
Completed 200 OK in 76ms (Views: 0.2ms | ActiveRecord: 0.5ms)


Started POST "/users/login" for 127.0.0.1 at 2017-09-08 12:35:20 -0400
Processing by UsersController#login as */*
  Parameters: {"user"=>{"username"=>"Thomas", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Thomas"], ["LIMIT", 1]]
Completed 200 OK in 72ms (Views: 0.5ms | ActiveRecord: 0.7ms)


Started GET "/users/" for 127.0.0.1 at 2017-09-08 12:36:01 -0400
Processing by UsersController#index as */*
Filter chain halted as :authenticate_token rendered or redirected
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/users/" for 127.0.0.1 at 2017-09-08 12:36:05 -0400
Processing by UsersController#index as */*
Filter chain halted as :authenticate_token rendered or redirected
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/users/" for 127.0.0.1 at 2017-09-08 12:36:05 -0400
Processing by UsersController#index as */*
Filter chain halted as :authenticate_token rendered or redirected
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/users/" for 127.0.0.1 at 2017-09-08 12:36:08 -0400
Processing by UsersController#index as */*
Filter chain halted as :authenticate_token rendered or redirected
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started POST "/users/login" for 127.0.0.1 at 2017-09-08 12:36:15 -0400
Processing by UsersController#login as */*
  Parameters: {"user"=>{"username"=>"Thomas", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Thomas"], ["LIMIT", 1]]
Completed 200 OK in 69ms (Views: 0.5ms | ActiveRecord: 0.3ms)


Started POST "/users/login" for 127.0.0.1 at 2017-09-08 12:36:19 -0400
Processing by UsersController#login as */*
  Parameters: {"user"=>{"username"=>"Thomas", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Thomas"], ["LIMIT", 1]]
Completed 200 OK in 67ms (Views: 0.4ms | ActiveRecord: 0.2ms)


Started POST "/users/login" for 127.0.0.1 at 2017-09-08 12:36:22 -0400
Processing by UsersController#login as */*
  Parameters: {"user"=>{"username"=>"Thomas", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Thomas"], ["LIMIT", 1]]
Completed 200 OK in 67ms (Views: 0.4ms | ActiveRecord: 0.3ms)


Started POST "/users/login" for 127.0.0.1 at 2017-09-08 12:36:28 -0400
Processing by UsersController#login as */*
  Parameters: {"user"=>{"username"=>"Thomas", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Thomas"], ["LIMIT", 1]]
Completed 200 OK in 73ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started POST "/users/login" for 127.0.0.1 at 2017-09-08 12:38:00 -0400
  [1m[35m (34.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as */*
  Parameters: {"user"=>{"username"=>"James", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "James"], ["LIMIT", 1]]
Completed 200 OK in 17ms (Views: 0.3ms | ActiveRecord: 2.2ms)


Started POST "/users/login" for 127.0.0.1 at 2017-09-08 12:38:25 -0400
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as */*
  Parameters: {"user"=>{"username"=>"James", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "James"], ["LIMIT", 1]]
Completed 200 OK in 16ms (Views: 0.3ms | ActiveRecord: 2.3ms)


Started POST "/users/login" for 127.0.0.1 at 2017-09-08 12:38:36 -0400
Processing by UsersController#login as */*
  Parameters: {"user"=>{"username"=>"James", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "James"], ["LIMIT", 1]]
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 5.6ms)


Started POST "/users/login" for 127.0.0.1 at 2017-09-08 12:38:44 -0400
Processing by UsersController#login as */*
  Parameters: {"user"=>{"username"=>"Thomas", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Thomas"], ["LIMIT", 1]]
Completed 200 OK in 94ms (Views: 0.7ms | ActiveRecord: 3.1ms)


Started POST "/users/login" for 127.0.0.1 at 2017-09-08 12:39:05 -0400
Processing by UsersController#login as */*
  Parameters: {"user"=>{"username"=>"James", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "James"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started POST "/users/login" for 127.0.0.1 at 2017-09-08 12:39:09 -0400
Processing by UsersController#login as */*
  Parameters: {"user"=>{"username"=>"James", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "James"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.4ms)


Started POST "/users/login" for 127.0.0.1 at 2017-09-08 12:39:47 -0400
Processing by UsersController#login as */*
  Parameters: {"user"=>{"username"=>"James", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "James"], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started GET "/users" for 127.0.0.1 at 2017-09-08 12:39:53 -0400
Processing by UsersController#index as */*
Filter chain halted as :authenticate_token rendered or redirected
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/users/login" for 127.0.0.1 at 2017-09-08 12:39:58 -0400
Processing by UsersController#show as */*
  Parameters: {"id"=>"login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=login):
  
app/controllers/users_controller.rb:76:in `set_user'
Started POST "/users/login" for 127.0.0.1 at 2017-09-08 12:41:09 -0400
  [1m[35m (31.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#login as */*
  Parameters: {"user"=>{"username"=>"James", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "James"], ["LIMIT", 1]]
Completed 200 OK in 28ms (Views: 0.3ms | ActiveRecord: 2.6ms)


Started POST "/users/login" for 127.0.0.1 at 2017-09-08 12:41:59 -0400
Processing by UsersController#login as */*
Started POST "/users/login" for 127.0.0.1 at 2017-09-08 12:42:09 -0400
  Parameters: {"user"=>{"username"=>"James", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "James"], ["LIMIT", 1]]
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Processing by UsersController#login as */*
  Parameters: {"user"=>{"username"=>"James", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "James"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)


  [1m[35m (29.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (5427.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "green_pages_api_development"[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (5045.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "green_pages_api_development"[0m
  [1m[35m (20.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (800.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "green_pages_api_development"[0m
  [1m[35m (306.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "green_pages_api_test"[0m
  [1m[35m (2308.9ms)[0m  [1m[35mCREATE DATABASE "green_pages_api_development" ENCODING = 'unicode'[0m
  [1m[35m (433.3ms)[0m  [1m[35mCREATE DATABASE "green_pages_api_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (13.7ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (31.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (123.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (16.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20170908153320)[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2017-09-08 17:16:50.863043"], ["updated_at", "2017-09-08 17:16:50.863043"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20170908153320)[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2017-09-08 17:16:50.981802"], ["updated_at", "2017-09-08 17:16:50.981802"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (22.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (1997.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "green_pages_api_development"[0m
  [1m[35m (783.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "green_pages_api_test"[0m
  [1m[35m (2656.5ms)[0m  [1m[35mCREATE DATABASE "green_pages_api_development" ENCODING = 'unicode'[0m
  [1m[35m (443.4ms)[0m  [1m[35mCREATE DATABASE "green_pages_api_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (28.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20170908153320)[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2017-09-08 17:18:55.036881"], ["updated_at", "2017-09-08 17:18:55.036881"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20170908153320)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2017-09-08 17:18:55.117033"], ["updated_at", "2017-09-08 17:18:55.117033"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/users" for 127.0.0.1 at 2017-09-08 17:33:21 -0400
  [1m[35m (41.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#index as */*
Filter chain halted as :authenticate_token rendered or redirected
Completed 200 OK in 20ms (Views: 19.5ms | ActiveRecord: 0.0ms)


Started GET "/users" for 127.0.0.1 at 2017-09-08 17:38:48 -0400
Processing by UsersController#index as */*
Filter chain halted as :authenticate_token rendered or redirected
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 0.0ms)


Started GET "/users" for 127.0.0.1 at 2017-09-08 17:38:48 -0400
Processing by UsersController#index as */*
Filter chain halted as :authenticate_token rendered or redirected
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started POST "/users/login" for 127.0.0.1 at 2017-09-08 17:40:15 -0400
Processing by UsersController#login as */*
  Parameters: {"user"=>{"username"=>"Thomas", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (158.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Thomas"], ["LIMIT", 1]]
Completed 200 OK in 479ms (Views: 0.2ms | ActiveRecord: 302.3ms)


Started POST "/users/" for 127.0.0.1 at 2017-09-08 17:40:31 -0400
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"Thomas", "password"=>"[FILTERED]"}}
  [1m[35m (12.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Thomas"], ["LIMIT", 1]]
  [1m[35mSQL (206.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "Thomas"], ["password_digest", "$2a$10$Zf5T1Iw8wwsgEGBahbuPeuwhJ85.kuI9lptGRddMji5/qWy2OGJL6"], ["created_at", "2017-09-08 21:40:31.896492"], ["updated_at", "2017-09-08 21:40:31.896492"]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
Completed 201 Created in 530ms (Views: 17.2ms | ActiveRecord: 407.0ms)


Started POST "/users/login" for 127.0.0.1 at 2017-09-08 17:40:43 -0400
Processing by UsersController#login as */*
  Parameters: {"user"=>{"username"=>"Thomas", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (20.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Thomas"], ["LIMIT", 1]]
Completed 200 OK in 136ms (Views: 0.6ms | ActiveRecord: 20.7ms)


Started POST "/users/login" for 127.0.0.1 at 2017-09-08 17:41:00 -0400
Processing by UsersController#login as */*
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/users_controller.rb:8:in `login'
Started POST "/users/login" for 127.0.0.1 at 2017-09-08 17:41:05 -0400
Processing by UsersController#login as */*
  Parameters: {"user"=>{"username"=>"Thomas", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Thomas"], ["LIMIT", 1]]
Completed 200 OK in 74ms (Views: 0.5ms | ActiveRecord: 0.5ms)


Started POST "/users/login" for 127.0.0.1 at 2017-09-08 17:41:10 -0400
Processing by UsersController#login as */*
  Parameters: {"user"=>{"username"=>"Thomas", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Thomas"], ["LIMIT", 1]]
Completed 200 OK in 72ms (Views: 0.5ms | ActiveRecord: 0.2ms)


Started GET "/users" for 127.0.0.1 at 2017-09-08 17:41:44 -0400
Processing by UsersController#index as */*
Filter chain halted as :authenticate_token rendered or redirected
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)


Started GET "/users" for 127.0.0.1 at 2017-09-08 17:47:08 -0400
Processing by UsersController#index as */*
Filter chain halted as :authenticate_token rendered or redirected
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.0ms)


Started GET "/users" for 127.0.0.1 at 2017-09-08 17:49:47 -0400
Processing by UsersController#index as */*
Filter chain halted as :authenticate_token rendered or redirected
Completed 200 OK in 14ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started GET "/users" for 127.0.0.1 at 2017-09-08 17:50:48 -0400
Processing by UsersController#index as */*
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
JWT::IncorrectAlgorithm (An algorithm must be specified):
  
app/controllers/application_controller.rb:19:in `decode_token'
app/controllers/application_controller.rb:4:in `authenticate_token'
Started GET "/users" for 127.0.0.1 at 2017-09-08 17:51:15 -0400
Processing by UsersController#index as */*
Filter chain halted as :authenticate_token rendered or redirected
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/users" for 127.0.0.1 at 2017-09-08 17:52:08 -0400
  
SyntaxError (/Users/cho/dev/green_pages/green_pages_api/app/controllers/application_controller.rb:22: syntax error, unexpected ';', expecting =>
    render json: {status; 401, message: 'Unauthorized'}
                         ^
/Users/cho/dev/green_pages/green_pages_api/app/controllers/application_controller.rb:22: syntax error, unexpected '}', expecting keyword_end
 401, message: 'Unauthorized'}
                              ^
/Users/cho/dev/green_pages/green_pages_api/app/controllers/application_controller.rb:37: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/application_controller.rb:22: syntax error, unexpected ';', expecting =>
app/controllers/application_controller.rb:22: syntax error, unexpected '}', expecting keyword_end
app/controllers/application_controller.rb:37: syntax error, unexpected end-of-input, expecting keyword_end
app/controllers/users_controller.rb:1:in `<top (required)>'
Started GET "/users" for 127.0.0.1 at 2017-09-08 17:52:53 -0400
Processing by UsersController#index as */*
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 32ms (Views: 10.1ms | ActiveRecord: 5.6ms)


Started GET "/users/1" for 127.0.0.1 at 2017-09-08 17:54:09 -0400
Processing by UsersController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 103ms (ActiveRecord: 0.5ms)


  
NameError (undefined local variable or method `decoded_jwt' for #<UsersController:0x007ff1636b5a60>
Did you mean?  decode_token):
  
app/controllers/application_controller.rb:27:in `get_current_user'
app/controllers/application_controller.rb:32:in `authorize_user'
Started GET "/users/2" for 127.0.0.1 at 2017-09-08 17:54:17 -0400
Processing by UsersController#show as */*
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.3ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=2):
  
app/controllers/users_controller.rb:76:in `set_user'
Started GET "/users/1" for 127.0.0.1 at 2017-09-08 17:54:20 -0400
Processing by UsersController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 79ms (ActiveRecord: 0.3ms)


  
NameError (undefined local variable or method `decoded_jwt' for #<UsersController:0x007ff163434e80>
Did you mean?  decode_token):
  
app/controllers/application_controller.rb:27:in `get_current_user'
app/controllers/application_controller.rb:32:in `authorize_user'
Started GET "/users/1" for 127.0.0.1 at 2017-09-08 17:55:08 -0400
Processing by UsersController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 118ms (ActiveRecord: 5.6ms)


  
NameError (undefined local variable or method `decoded_jwt' for #<UsersController:0x007ff163b0a048>
Did you mean?  decode_token):
  
app/controllers/application_controller.rb:27:in `get_current_user'
app/controllers/application_controller.rb:32:in `authorize_user'
Started GET "/users/1" for 127.0.0.1 at 2017-09-08 17:55:48 -0400
Processing by UsersController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 55ms (Views: 0.6ms | ActiveRecord: 0.6ms)


Started POST "/users/login" for 127.0.0.1 at 2017-09-08 18:18:43 -0400
Processing by UsersController#login as */*
  Parameters: {"user"=>{"username"=>"Thomas", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Thomas"], ["LIMIT", 1]]
Completed 200 OK in 97ms (Views: 3.0ms | ActiveRecord: 0.8ms)


  [1m[35m (94.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3249609317874508470)[0m
  [1m[35m (54.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateStrains (20170911202115)
  [1m[35m (16.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (919.2ms)[0m  [1m[35mCREATE TABLE "strains" ("id" bigserial primary key, "name" character varying, "type" character varying, "img" character varying, "fav" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170911202115"]]
  [1m[35m (1925.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (60.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(3249609317874508470)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (27.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/strains" for 127.0.0.1 at 2017-09-11 16:41:54 -0400
Started GET "/strains" for 127.0.0.1 at 2017-09-11 16:41:55 -0400
  [1m[35m (17.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (105.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StrainsController#index as HTML
Processing by StrainsController#index as HTML
  [1m[36mStrain Load (0.6ms)[0m  [1m[34mSELECT "strains".* FROM "strains"[0m
  [1m[36mStrain Load (0.4ms)[0m  [1m[34mSELECT "strains".* FROM "strains"[0m
Completed 200 OK in 17ms (Views: 1.6ms | ActiveRecord: 2.9ms)


Completed 200 OK in 17ms (Views: 3.8ms | ActiveRecord: 0.4ms)


Started GET "/strains" for 127.0.0.1 at 2017-09-11 16:41:58 -0400
Processing by StrainsController#index as HTML
  [1m[36mStrain Load (0.5ms)[0m  [1m[34mSELECT "strains".* FROM "strains"[0m
Completed 200 OK in 40ms (Views: 33.5ms | ActiveRecord: 6.4ms)


  [1m[35m (31.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3249609317874508470)[0m
  [1m[35m (30.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to FixColumnName (20170911204425)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (64.1ms)[0m  [1m[35mALTER TABLE "strains" RENAME COLUMN "type" TO "group"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170911204425"]]
  [1m[35m (29.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3249609317874508470)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (31.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (31.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (48.2ms)[0m  [1m[32mINSERT INTO "strains" ("name", "group", "img", "fav", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Sour Diesel"], ["group", "Sativa"], ["img", "https://cdn.allbud.com/image/upload/s--n2WpMtEi--/c_limit,h_600,w_800/v1444939376/images/strain/super-sour-diesel/2133/anqvgcypfjr35fajhvf8.jpg"], ["fav", 0], ["created_at", "2017-09-11 20:47:47.368052"], ["updated_at", "2017-09-11 20:47:47.368052"]]
  [1m[35m (25.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "strains" ("name", "group", "img", "fav", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Blue Dream"], ["group", "Hybrid"], ["img", "http://www.medicalmarijuanastrains.com/wp-content/uploads/tdomf/14321/BlueDreamMarijuana.jpg"], ["fav", 0], ["created_at", "2017-09-11 20:47:47.443699"], ["updated_at", "2017-09-11 20:47:47.443699"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "strains" ("name", "group", "img", "fav", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Girl Scout Cookies"], ["group", "Hybrid"], ["img", "https://cannabisbuyer.com/wp-content/uploads/2016/11/Girl-Scout-Cookies-Strain-Nugs.jpg"], ["fav", 0], ["created_at", "2017-09-11 20:47:47.446049"], ["updated_at", "2017-09-11 20:47:47.446049"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "strains" ("name", "group", "img", "fav", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Green Crack"], ["group", "Sativa"], ["img", "https://www.marijuana.com/wp-content/uploads/2014/04/Screen-Shot-2016-05-11-at-7.52.23-AM.png"], ["fav", 0], ["created_at", "2017-09-11 20:47:47.447974"], ["updated_at", "2017-09-11 20:47:47.447974"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (34.4ms)[0m  [1m[32mINSERT INTO "strains" ("name", "group", "img", "fav", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Granddaddy Purple"], ["group", "Indica"], ["img", "https://www.420magazine.com/gallery/data/500/GrandDaddyPurple_RVC_3-2011-1.jpg"], ["fav", 0], ["created_at", "2017-09-11 20:47:47.450068"], ["updated_at", "2017-09-11 20:47:47.450068"]]
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "strains" ("name", "group", "img", "fav", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "White Widow"], ["group", "Hybrid"], ["img", "http://www.sumoseeds.com/image/cache//SumoSeeds/buds/white-widow-original-500x500.jpg"], ["fav", 0], ["created_at", "2017-09-11 20:47:47.486894"], ["updated_at", "2017-09-11 20:47:47.486894"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "strains" ("name", "group", "img", "fav", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Gorilla Glue #4"], ["group", "Hybrid"], ["img", "http://www.thecannabist.co/wp-content/uploads/2014/12/gorillaglue4-web-800x480.jpg"], ["fav", 0], ["created_at", "2017-09-11 20:47:47.488823"], ["updated_at", "2017-09-11 20:47:47.488823"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "strains" ("name", "group", "img", "fav", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Bubba Kush"], ["group", "Indica"], ["img", "https://www.dinafem.org/media/photologue/photos/cache/Autodinafem-Bubba_Kush_Autoflowering-01-0175_gallery_full.jpg"], ["fav", 0], ["created_at", "2017-09-11 20:47:47.490754"], ["updated_at", "2017-09-11 20:47:47.490754"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "strains" ("name", "group", "img", "fav", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Pineapple Express"], ["group", "Hybrid"], ["img", "http://www.thesmokingbud.com/sites/default/files/styles/stt_article_top/public/031616/pa.jpg?itok=Jcp3_Jau"], ["fav", 0], ["created_at", "2017-09-11 20:47:47.492742"], ["updated_at", "2017-09-11 20:47:47.492742"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (32.1ms)[0m  [1m[32mINSERT INTO "strains" ("name", "group", "img", "fav", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Alaskan Thunder Fuck"], ["group", "Sativa"], ["img", "http://www.thenug.com/sites/default/pub/112414/thenug-zi34aKQCNV.jpg"], ["fav", 0], ["created_at", "2017-09-11 20:47:47.494739"], ["updated_at", "2017-09-11 20:47:47.494739"]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
Started GET "/strains" for 127.0.0.1 at 2017-09-11 16:48:03 -0400
Started GET "/strains" for 127.0.0.1 at 2017-09-11 16:48:04 -0400
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StrainsController#index as HTML
Processing by StrainsController#index as HTML
  [1m[36mStrain Load (0.8ms)[0m  [1m[34mSELECT "strains".* FROM "strains"[0m
  [1m[36mStrain Load (72.6ms)[0m  [1m[34mSELECT "strains".* FROM "strains"[0m
Completed 200 OK in 89ms (Views: 3.1ms | ActiveRecord: 72.6ms)


Completed 200 OK in 97ms (Views: 80.0ms | ActiveRecord: 4.1ms)


Started GET "/users" for 127.0.0.1 at 2017-09-11 16:48:29 -0400
Processing by UsersController#index as HTML
Filter chain halted as :authenticate_token rendered or redirected
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3249609317874508470)[0m
  [1m[35m (33.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateLedgers (20170911210304)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1078.0ms)[0m  [1m[35mCREATE TABLE "ledgers" ("id" bigserial primary key, "user_id" bigint, "strain_id" bigint, "qty" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f7b494f4c3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_4522ab74e1"
FOREIGN KEY ("strain_id")
  REFERENCES "strains" ("id")
)[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE  INDEX  "index_ledgers_on_user_id" ON "ledgers"  ("user_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX  "index_ledgers_on_strain_id" ON "ledgers"  ("strain_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170911210304"]]
  [1m[35m (57.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(3249609317874508470)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (20.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mStrain Load (0.4ms)[0m  [1m[34mSELECT  "strains".* FROM "strains" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mLedger Load (78.6ms)[0m  [1m[34mSELECT  "ledgers".* FROM "ledgers" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (16.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStrain Load (0.3ms)[0m  [1m[34mSELECT  "strains".* FROM "strains" WHERE "strains"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLedger Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "ledgers" WHERE "ledgers"."user_id" = $1 AND "ledgers"."strain_id" = $2 LIMIT $3[0m  [["user_id", 1], ["strain_id", 1], ["LIMIT", 1]]
  [1m[36mLedger Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "ledgers" WHERE "ledgers"."strain_id" = $1 AND "ledgers"."user_id" = $2 LIMIT $3[0m  [["strain_id", 1], ["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (131.2ms)[0m  [1m[32mINSERT INTO "ledgers" ("user_id", "strain_id", "qty", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["strain_id", 1], ["qty", 1], ["created_at", "2017-09-11 21:09:52.608904"], ["updated_at", "2017-09-11 21:09:52.608904"]]
  [1m[35m (55.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStrain Load (0.6ms)[0m  [1m[34mSELECT  "strains".* FROM "strains" INNER JOIN "ledgers" ON "strains"."id" = "ledgers"."strain_id" WHERE "ledgers"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3249609317874508470)[0m
  [1m[35m (27.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddFavArrayToUser (20170911212448)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD "favorites" text[][0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170911212448"]]
  [1m[35m (1109.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3249609317874508470)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3249609317874508470)[0m
  [1m[35m (18.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemovingFavoritesColumn (20170911213848)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3249609317874508470)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3249609317874508470)[0m
  [1m[35m (17.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemovingFavoritesColumn (20170911213848)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3249609317874508470)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3249609317874508470)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemovingFavoritesColumn (20170911213848)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (126.4ms)[0m  [1m[35mALTER TABLE "users" DROP "favorites"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170911213848"]]
  [1m[35m (27.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddingFavoritesArrayAgain (20170911213957)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (241.9ms)[0m  [1m[35mALTER TABLE "users" ADD "favorites" text[] DEFAULT '{}'[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170911213957"]]
  [1m[35m (363.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3249609317874508470)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (19.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "billybob"], ["LIMIT", 1]]
  [1m[35mSQL (39.5ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at", "favorites") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "billybob"], ["password_digest", "$2a$10$GTAgEIONZCcDoROMH/UqP.3pTv/vzorjjB5EraJok1jDJIoVh7Ex6"], ["created_at", "2017-09-11 21:43:29.346445"], ["updated_at", "2017-09-11 21:43:29.346445"], ["favorites", "{3,2,hello}"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mStrain Load (0.3ms)[0m  [1m[34mSELECT  "strains".* FROM "strains" LIMIT $1[0m  [["LIMIT", 11]]
